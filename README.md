# Hater

Первым шагом добавим шифрование паролей: в классе WebSecurityConfig добавим инициацию бина PasswordEncoder классом BCryptPasswordEncoder. И сразу же подставим его в authenticationBuilder. Далее добавим шифрование пароля нового пользователя при его регистрации в UserService.

Чтобы уже зарегистрированные в системе пользователи могли войти в систему, добавим скрипт миграции, шифрующий уже унесенные пароли.

Следующим шагом добавим валидацию входящих данных с помощью механизма Bean Validation. Для этого на поля доменных классов добавим аннотации @Length, @NotBlank и пр. с указанием ограничений и сообщений, которые будут отображаться при ошибках валидации.

После этого немного модифицируем контроллеры: добавим к получаемым от пользователя данным аннотацию @Valid и 2 обязательных аргумента: BindingResult и Model, которые должны идти в порядке, приведенном в данном тексте. Первый из них принимает сообщения валидации, а второй служит для передачи данных из контроллера во view.

Последним шагом остаётся только вывести сообщения об ошибках валидации во view. Для оформления сообщений используем стили из CSS фреймворка Bootstrap.
